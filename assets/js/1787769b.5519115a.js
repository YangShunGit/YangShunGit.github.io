"use strict";(self.webpackChunkys_blog=self.webpackChunkys_blog||[]).push([[9838],{5562:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>j,frontMatter:()=>c,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"\u57fa\u7840\u6838\u5fc3/ES6/EventLoop","title":"EventLoop","description":"Event Loop\uff08\u4e8b\u4ef6\u5faa\u73af\uff09\u662f JavaScript \u5e76\u53d1\u6a21\u578b\u7684\u6838\u5fc3\u673a\u5236\uff0c\u7528\u4e8e\u5904\u7406\u5f02\u6b65\u4efb\u52a1\uff08\u5982\u5b9a\u65f6\u5668\u3001\u7f51\u7edc\u8bf7\u6c42\u3001DOM \u4e8b\u4ef6\uff09\u3002\u7406\u89e3 Event Loop \u662f\u638c\u63e1 JS \u5f02\u6b65\u7f16\u7a0b\u7684\u5173\u952e\uff0c\u4e5f\u662f\u9762\u8bd5\u4e2d\u7684\u9ad8\u9891\u8003\u70b9\u3002","source":"@site/frontend/\u57fa\u7840\u6838\u5fc3/ES6/EventLoop.md","sourceDirName":"\u57fa\u7840\u6838\u5fc3/ES6","slug":"/\u57fa\u7840\u6838\u5fc3/ES6/EventLoop","permalink":"/frontend/\u57fa\u7840\u6838\u5fc3/ES6/EventLoop","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/frontend/\u57fa\u7840\u6838\u5fc3/ES6/EventLoop.md","tags":[],"version":"current","frontMatter":{},"sidebar":"frontend","previous":{"title":"hdc","permalink":"/frontend/\u539f\u751f\u5ba2\u6237\u7aef/harmony/hdc"},"next":{"title":"GC","permalink":"/frontend/\u57fa\u7840\u6838\u5fc3/ES6/GC"}}');var r=s(4848),i=s(8453);const c={},o=void 0,d={},t=[{value:"<strong>\u4e00\u3001\u57fa\u7840\u6982\u5ff5</strong>",id:"\u4e00\u57fa\u7840\u6982\u5ff5",level:3},{value:"<strong>1. \u6267\u884c\u6808\uff08Call Stack\uff09</strong>",id:"1-\u6267\u884c\u6808call-stack",level:4},{value:"<strong>2. \u4efb\u52a1\u961f\u5217\uff08Task Queue\uff09</strong>",id:"2-\u4efb\u52a1\u961f\u5217task-queue",level:4},{value:"<strong>3. \u4e8b\u4ef6\u5faa\u73af\u6838\u5fc3\u6d41\u7a0b</strong>",id:"3-\u4e8b\u4ef6\u5faa\u73af\u6838\u5fc3\u6d41\u7a0b",level:4},{value:"<strong>\u4e8c\u3001\u6267\u884c\u6d41\u7a0b\u793a\u4f8b</strong>",id:"\u4e8c\u6267\u884c\u6d41\u7a0b\u793a\u4f8b",level:3},{value:"<strong>\u4e09\u3001\u6d4f\u89c8\u5668 vs Node.js \u7684\u5dee\u5f02</strong>",id:"\u4e09\u6d4f\u89c8\u5668-vs-nodejs-\u7684\u5dee\u5f02",level:3},{value:"<strong>1. \u6d4f\u89c8\u5668 Event Loop</strong>",id:"1-\u6d4f\u89c8\u5668-event-loop",level:4},{value:"<strong>2. Node.js Event Loop</strong>",id:"2-nodejs-event-loop",level:4},{value:"<strong>3. \u5173\u952e\u5dee\u5f02\u793a\u4f8b</strong>",id:"3-\u5173\u952e\u5dee\u5f02\u793a\u4f8b",level:4},{value:"<strong>\u56db\u3001\u8fdb\u9636\u6982\u5ff5</strong>",id:"\u56db\u8fdb\u9636\u6982\u5ff5",level:3},{value:"<strong>1. \u963b\u585e\u4e0e\u975e\u963b\u585e</strong>",id:"1-\u963b\u585e\u4e0e\u975e\u963b\u585e",level:4},{value:"<strong>2. \u4efb\u52a1\u4f18\u5148\u7ea7</strong>",id:"2-\u4efb\u52a1\u4f18\u5148\u7ea7",level:4},{value:"<strong>3. \u6e32\u67d3\u65f6\u673a</strong>",id:"3-\u6e32\u67d3\u65f6\u673a",level:4},{value:"<strong>\u4e94\u3001\u5e38\u89c1\u9762\u8bd5\u95ee\u9898</strong>",id:"\u4e94\u5e38\u89c1\u9762\u8bd5\u95ee\u9898",level:3},{value:"<strong>\u516d\u3001\u603b\u7ed3</strong>",id:"\u516d\u603b\u7ed3",level:3}];function h(n){const e={br:"br",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:"Event Loop\uff08\u4e8b\u4ef6\u5faa\u73af\uff09\u662f JavaScript \u5e76\u53d1\u6a21\u578b\u7684\u6838\u5fc3\u673a\u5236\uff0c\u7528\u4e8e\u5904\u7406\u5f02\u6b65\u4efb\u52a1\uff08\u5982\u5b9a\u65f6\u5668\u3001\u7f51\u7edc\u8bf7\u6c42\u3001DOM \u4e8b\u4ef6\uff09\u3002\u7406\u89e3 Event Loop \u662f\u638c\u63e1 JS \u5f02\u6b65\u7f16\u7a0b\u7684\u5173\u952e\uff0c\u4e5f\u662f\u9762\u8bd5\u4e2d\u7684\u9ad8\u9891\u8003\u70b9\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"\u4e00\u57fa\u7840\u6982\u5ff5",children:(0,r.jsx)(e.strong,{children:"\u4e00\u3001\u57fa\u7840\u6982\u5ff5"})}),"\n",(0,r.jsx)(e.h4,{id:"1-\u6267\u884c\u6808call-stack",children:(0,r.jsx)(e.strong,{children:"1. \u6267\u884c\u6808\uff08Call Stack\uff09"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u540c\u6b65\u4ee3\u7801\u7684\u6267\u884c\u73af\u5883\uff0c\u9075\u5faa\u201c\u540e\u8fdb\u5148\u51fa\u201d\u539f\u5219\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u51fd\u6570\u8c03\u7528\u65f6\u5165\u6808\uff0c\u8fd4\u56de\u65f6\u51fa\u6808\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"2-\u4efb\u52a1\u961f\u5217task-queue",children:(0,r.jsx)(e.strong,{children:"2. \u4efb\u52a1\u961f\u5217\uff08Task Queue\uff09"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5b8f\u4efb\u52a1\u961f\u5217\uff08MacroTask Queue\uff09"}),"\uff1a",(0,r.jsx)(e.br,{}),"\n","\u5305\u542b ",(0,r.jsx)(e.code,{children:"setTimeout"}),"\u3001",(0,r.jsx)(e.code,{children:"setInterval"}),"\u3001",(0,r.jsx)(e.code,{children:"setImmediate"}),"\uff08Node.js\uff09\u3001I/O \u64cd\u4f5c\u3001UI \u6e32\u67d3\u7b49\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5fae\u4efb\u52a1\u961f\u5217\uff08MicroTask Queue\uff09"}),"\uff1a",(0,r.jsx)(e.br,{}),"\n","\u5305\u542b ",(0,r.jsx)(e.code,{children:"Promise.then"}),"\u3001",(0,r.jsx)(e.code,{children:"MutationObserver"}),"\u3001",(0,r.jsx)(e.code,{children:"process.nextTick"}),"\uff08Node.js\uff09\u7b49\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"3-\u4e8b\u4ef6\u5faa\u73af\u6838\u5fc3\u6d41\u7a0b",children:(0,r.jsx)(e.strong,{children:"3. \u4e8b\u4ef6\u5faa\u73af\u6838\u5fc3\u6d41\u7a0b"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u6267\u884c\u6808\u6e05\u7a7a\u540e\uff0c\u68c0\u67e5\u5fae\u4efb\u52a1\u961f\u5217\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u4f9d\u6b21\u6267\u884c\u5fae\u4efb\u52a1\u961f\u5217\u4e2d\u7684\u6240\u6709\u4efb\u52a1\uff0c\u76f4\u5230\u961f\u5217\u4e3a\u7a7a\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u6267\u884c\u4e00\u4e2a\u5b8f\u4efb\u52a1\uff08\u5982 ",(0,r.jsx)(e.code,{children:"setTimeout"})," \u56de\u8c03\uff09\u3002"]}),"\n",(0,r.jsx)(e.li,{children:"\u91cd\u590d\u6b65\u9aa4 1-3\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u4e8c\u6267\u884c\u6d41\u7a0b\u793a\u4f8b",children:(0,r.jsx)(e.strong,{children:"\u4e8c\u3001\u6267\u884c\u6d41\u7a0b\u793a\u4f8b"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"console.log('1');\n\nsetTimeout(() => {\n  console.log('2');\n  Promise.resolve().then(() => console.log('3'));\n}, 0);\n\nPromise.resolve().then(() => {\n  console.log('4');\n  Promise.resolve().then(() => console.log('5'));\n});\n\nconsole.log('6');\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u6267\u884c\u987a\u5e8f\u89e3\u6790"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\u540c\u6b65\u4ee3\u7801\uff1a",(0,r.jsx)(e.code,{children:"console.log('1')"})," \u2192 \u8f93\u51fa ",(0,r.jsx)(e.code,{children:"1"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"setTimeout"})," \u653e\u5165\u5b8f\u4efb\u52a1\u961f\u5217\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"Promise.then"})," \u653e\u5165\u5fae\u4efb\u52a1\u961f\u5217\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u540c\u6b65\u4ee3\u7801\uff1a",(0,r.jsx)(e.code,{children:"console.log('6')"})," \u2192 \u8f93\u51fa ",(0,r.jsx)(e.code,{children:"6"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u6267\u884c\u6808\u6e05\u7a7a\uff0c\u5904\u7406\u5fae\u4efb\u52a1\u961f\u5217\uff1a","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u6267\u884c ",(0,r.jsx)(e.code,{children:"Promise.then"})," \u56de\u8c03 \u2192 \u8f93\u51fa ",(0,r.jsx)(e.code,{children:"4"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u65b0\u7684 ",(0,r.jsx)(e.code,{children:"Promise.then"})," \u653e\u5165\u5fae\u4efb\u52a1\u961f\u5217\uff0c\u7ee7\u7eed\u6267\u884c \u2192 \u8f93\u51fa ",(0,r.jsx)(e.code,{children:"5"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5fae\u4efb\u52a1\u961f\u5217\u6e05\u7a7a\uff0c\u6267\u884c\u4e00\u4e2a\u5b8f\u4efb\u52a1\uff1a","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u6267\u884c ",(0,r.jsx)(e.code,{children:"setTimeout"})," \u56de\u8c03 \u2192 \u8f93\u51fa ",(0,r.jsx)(e.code,{children:"2"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u56de\u8c03\u4e2d\u7684 ",(0,r.jsx)(e.code,{children:"Promise.then"})," \u653e\u5165\u5fae\u4efb\u52a1\u961f\u5217\uff0c\u7acb\u5373\u6267\u884c \u2192 \u8f93\u51fa ",(0,r.jsx)(e.code,{children:"3"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u6700\u7ec8\u8f93\u51fa"}),"\uff1a",(0,r.jsx)(e.code,{children:"1 \u2192 6 \u2192 4 \u2192 5 \u2192 2 \u2192 3"})]}),"\n",(0,r.jsx)(e.h3,{id:"\u4e09\u6d4f\u89c8\u5668-vs-nodejs-\u7684\u5dee\u5f02",children:(0,r.jsx)(e.strong,{children:"\u4e09\u3001\u6d4f\u89c8\u5668 vs Node.js \u7684\u5dee\u5f02"})}),"\n",(0,r.jsx)(e.h4,{id:"1-\u6d4f\u89c8\u5668-event-loop",children:(0,r.jsx)(e.strong,{children:"1. \u6d4f\u89c8\u5668 Event Loop"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5b8f\u4efb\u52a1"}),"\uff1a",(0,r.jsx)(e.code,{children:"setTimeout"}),"\u3001",(0,r.jsx)(e.code,{children:"setInterval"}),"\u3001",(0,r.jsx)(e.code,{children:"requestAnimationFrame"}),"\u3001UI \u6e32\u67d3\u7b49\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5fae\u4efb\u52a1"}),"\uff1a",(0,r.jsx)(e.code,{children:"Promise.then"}),"\u3001",(0,r.jsx)(e.code,{children:"MutationObserver"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u6267\u884c\u6d41\u7a0b"}),"\uff1a",(0,r.jsx)(e.br,{}),"\n","\u6267\u884c\u6808 \u2192 \u6e05\u7a7a\u5fae\u4efb\u52a1\u961f\u5217 \u2192 \u6267\u884c\u4e00\u4e2a\u5b8f\u4efb\u52a1 \u2192 \u91cd\u590d\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"2-nodejs-event-loop",children:(0,r.jsx)(e.strong,{children:"2. Node.js Event Loop"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u9636\u6bb5\u5212\u5206"}),"\uff1a",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"timers"})," \u2192 ",(0,r.jsx)(e.code,{children:"I/O callbacks"})," \u2192 ",(0,r.jsx)(e.code,{children:"idle, prepare"})," \u2192 ",(0,r.jsx)(e.code,{children:"poll"})," \u2192 ",(0,r.jsx)(e.code,{children:"check"})," \u2192 ",(0,r.jsx)(e.code,{children:"close callbacks"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5fae\u4efb\u52a1"}),"\uff1a","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"process.nextTick"}),"\uff1a\u5728\u6bcf\u4e2a\u9636\u6bb5\u7ed3\u675f\u540e\u7acb\u5373\u6267\u884c\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"Promise.then"}),"\uff1a\u5728 ",(0,r.jsx)(e.code,{children:"poll"})," \u9636\u6bb5\u7ed3\u675f\u540e\u6267\u884c\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5b8f\u4efb\u52a1"}),"\uff1a",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"setTimeout"}),"\u3001",(0,r.jsx)(e.code,{children:"setInterval"}),"\u3001",(0,r.jsx)(e.code,{children:"setImmediate"}),"\uff08\u5728 ",(0,r.jsx)(e.code,{children:"check"})," \u9636\u6bb5\u6267\u884c\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"3-\u5173\u952e\u5dee\u5f02\u793a\u4f8b",children:(0,r.jsx)(e.strong,{children:"3. \u5173\u952e\u5dee\u5f02\u793a\u4f8b"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"setTimeout(() => {\n  console.log('setTimeout');\n}, 0);\n\nsetImmediate(() => {\n  console.log('setImmediate');\n});\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u6d4f\u89c8\u5668"}),"\uff1a\u8f93\u51fa\u987a\u5e8f\u4e0d\u786e\u5b9a\uff08\u53d6\u51b3\u4e8e\u7ebf\u7a0b\u8c03\u5ea6\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Node.js"}),"\uff1a","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5728 ",(0,r.jsx)(e.strong,{children:"I/O \u56de\u8c03"}),"\u4e2d\uff0c",(0,r.jsx)(e.code,{children:"setImmediate"})," \u603b\u662f\u5148\u6267\u884c\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5728 ",(0,r.jsx)(e.strong,{children:"\u4e3b\u6a21\u5757"}),"\u4e2d\uff0c\u8f93\u51fa\u987a\u5e8f\u4e0d\u786e\u5b9a\uff08\u53d6\u51b3\u4e8e\u521d\u59cb\u5316\u65f6\u95f4\uff09\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u56db\u8fdb\u9636\u6982\u5ff5",children:(0,r.jsx)(e.strong,{children:"\u56db\u3001\u8fdb\u9636\u6982\u5ff5"})}),"\n",(0,r.jsx)(e.h4,{id:"1-\u963b\u585e\u4e0e\u975e\u963b\u585e",children:(0,r.jsx)(e.strong,{children:"1. \u963b\u585e\u4e0e\u975e\u963b\u585e"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u540c\u6b65\u64cd\u4f5c"}),"\uff1a\u963b\u585e Event Loop\uff08\u5982 ",(0,r.jsx)(e.code,{children:"while(true)"}),"\uff09\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5f02\u6b65\u64cd\u4f5c"}),"\uff1a\u901a\u8fc7\u56de\u8c03\u51fd\u6570\u975e\u963b\u585e\u6267\u884c\uff08\u5982 ",(0,r.jsx)(e.code,{children:"fetch"}),"\u3001",(0,r.jsx)(e.code,{children:"fs.readFile"}),"\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"2-\u4efb\u52a1\u4f18\u5148\u7ea7",children:(0,r.jsx)(e.strong,{children:"2. \u4efb\u52a1\u4f18\u5148\u7ea7"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5fae\u4efb\u52a1 > \u5b8f\u4efb\u52a1"}),"\uff1a\u5fae\u4efb\u52a1\u961f\u5217\u4f1a\u5728\u6bcf\u4e2a\u5b8f\u4efb\u52a1\u6267\u884c\u524d\u88ab\u6e05\u7a7a\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u7279\u6b8a\u60c5\u51b5"}),"\uff1a","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"process.nextTick"})," \u5728 Node.js \u4e2d\u4f18\u5148\u7ea7\u9ad8\u4e8e ",(0,r.jsx)(e.code,{children:"Promise.then"}),"\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"requestAnimationFrame"})," \u5728\u6d4f\u89c8\u5668\u6e32\u67d3\u524d\u6267\u884c\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"3-\u6e32\u67d3\u65f6\u673a",children:(0,r.jsx)(e.strong,{children:"3. \u6e32\u67d3\u65f6\u673a"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u6d4f\u89c8\u5668\u5728 ",(0,r.jsx)(e.strong,{children:"\u5b8f\u4efb\u52a1\u6267\u884c\u540e\u3001\u5fae\u4efb\u52a1\u6267\u884c\u524d"})," \u53ef\u80fd\u8fdb\u884c\u6e32\u67d3\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"requestAnimationFrame"})," \u53ef\u5728\u6e32\u67d3\u524d\u6267\u884c\u56de\u8c03\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u4e94\u5e38\u89c1\u9762\u8bd5\u95ee\u9898",children:(0,r.jsx)(e.strong,{children:"\u4e94\u3001\u5e38\u89c1\u9762\u8bd5\u95ee\u9898"})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u89e3\u91ca Event Loop \u7684\u5de5\u4f5c\u539f\u7406"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u7b54\uff1a","\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u540c\u6b65\u4ee3\u7801\u5728\u6267\u884c\u6808\u4e2d\u6267\u884c\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5f02\u6b65\u4efb\u52a1\u5b8c\u6210\u540e\uff0c\u56de\u8c03\u653e\u5165\u4efb\u52a1\u961f\u5217\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u6267\u884c\u6808\u6e05\u7a7a\u540e\uff0c\u4f18\u5148\u5904\u7406\u5fae\u4efb\u52a1\u961f\u5217\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5fae\u4efb\u52a1\u961f\u5217\u6e05\u7a7a\u540e\uff0c\u6267\u884c\u4e00\u4e2a\u5b8f\u4efb\u52a1\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u91cd\u590d\u4e0a\u8ff0\u8fc7\u7a0b\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u5fae\u4efb\u52a1\u548c\u5b8f\u4efb\u52a1\u7684\u533a\u522b\u662f\u4ec0\u4e48\uff1f"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u7b54\uff1a","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5fae\u4efb\u52a1"}),"\uff1a",(0,r.jsx)(e.code,{children:"Promise.then"}),"\u3001",(0,r.jsx)(e.code,{children:"MutationObserver"})," \u7b49\uff0c\u5728\u6bcf\u4e2a\u5b8f\u4efb\u52a1\u540e\u7acb\u5373\u6267\u884c\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5b8f\u4efb\u52a1"}),"\uff1a",(0,r.jsx)(e.code,{children:"setTimeout"}),"\u3001",(0,r.jsx)(e.code,{children:"setInterval"})," \u7b49\uff0c\u6bcf\u6b21\u53ea\u6267\u884c\u4e00\u4e2a\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u5206\u6790\u4ee5\u4e0b\u4ee3\u7801\u7684\u8f93\u51fa\u987a\u5e8f"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-javascript",children:"async function async1() {\n  console.log('async1 start');\n  await async2();\n  console.log('async1 end');\n}\n\nasync function async2() {\n  console.log('async2');\n}\n\nconsole.log('script start');\n\nsetTimeout(() => {\n  console.log('setTimeout');\n}, 0);\n\nasync1();\n\nPromise.resolve().then(() => {\n  console.log('promise1');\n});\n\nconsole.log('script end');\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u8f93\u51fa\u987a\u5e8f"}),"\uff1a",(0,r.jsx)(e.br,{}),"\n",(0,r.jsx)(e.code,{children:"script start \u2192 async1 start \u2192 async2 \u2192 script end \u2192 async1 end \u2192 promise1 \u2192 setTimeout"})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\u89e3\u6790"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"async1"})," \u4e2d ",(0,r.jsx)(e.code,{children:"await"})," \u4f1a\u6682\u505c\u6267\u884c\uff0c\u5c06\u540e\u7eed\u4ee3\u7801\u653e\u5165\u5fae\u4efb\u52a1\u961f\u5217\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"Promise.resolve().then"})," \u4e5f\u653e\u5165\u5fae\u4efb\u52a1\u961f\u5217\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["\u5fae\u4efb\u52a1\u961f\u5217\u5728\u540c\u6b65\u4ee3\u7801\u6267\u884c\u540e\u3001",(0,r.jsx)(e.code,{children:"setTimeout"})," \u524d\u6267\u884c\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"\u516d\u603b\u7ed3",children:(0,r.jsx)(e.strong,{children:"\u516d\u3001\u603b\u7ed3"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Event Loop \u662f JS \u5f02\u6b65\u7684\u6838\u5fc3\u673a\u5236"}),"\uff0c\u8d1f\u8d23\u534f\u8c03\u540c\u6b65\u548c\u5f02\u6b65\u4ee3\u7801\u7684\u6267\u884c\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u5fae\u4efb\u52a1\u4f18\u5148\u4e8e\u5b8f\u4efb\u52a1"}),"\uff0c\u6bcf\u6b21\u5b8f\u4efb\u52a1\u6267\u884c\u540e\u4f1a\u6e05\u7a7a\u5fae\u4efb\u52a1\u961f\u5217\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u6d4f\u89c8\u5668\u548c Node.js \u7684 Event Loop \u5b58\u5728\u5dee\u5f02"}),"\uff0c\u5c24\u5176\u5728\u5b9a\u65f6\u5668\u548c\u9636\u6bb5\u5904\u7406\u4e0a\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"\u7406\u89e3 Event Loop \u6709\u52a9\u4e8e\u7f16\u5199\u9ad8\u6027\u80fd\u3001\u65e0\u963b\u585e\u7684\u5f02\u6b65\u4ee3\u7801"}),"\uff0c\u5e76\u89e3\u51b3\u590d\u6742\u7684\u6267\u884c\u987a\u5e8f\u95ee\u9898\u3002"]}),"\n"]})]})}function j(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(h,{...n})}):h(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>c,x:()=>o});var l=s(6540);const r={},i=l.createContext(r);function c(n){const e=l.useContext(i);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:c(n.components),l.createElement(i.Provider,{value:e},n.children)}}}]);