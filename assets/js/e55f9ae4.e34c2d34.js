"use strict";(self.webpackChunkys_blog=self.webpackChunkys_blog||[]).push([[4773],{5702:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"\u57fa\u7840\u6838\u5fc3/nodejs/fs\u6587\u4ef6\u7cfb\u7edf","title":"fs\u6587\u4ef6\u7cfb\u7edf","description":"Node.js\u7684fs\u6a21\u5757\uff08\u6587\u4ef6\u7cfb\u7edf\u6a21\u5757\uff09\u63d0\u4f9b\u4e86\u4e0e\u6587\u4ef6\u7cfb\u7edf\u4ea4\u4e92\u7684API\uff0c\u662f\u670d\u52a1\u5668\u7aef\u7f16\u7a0b\u7684\u6838\u5fc3\u7ec4\u4ef6\u3002\u4ee5\u4e0b\u4ece\u57fa\u7840\u64cd\u4f5c\u5230\u9ad8\u7ea7\u5e94\u7528\uff0c\u5168\u9762\u89e3\u6790fs\u6a21\u5757\u7684\u7528\u6cd5\u548c\u6700\u4f73\u5b9e\u8df5\uff1a","source":"@site/frontend/\u57fa\u7840\u6838\u5fc3/nodejs/fs\u6587\u4ef6\u7cfb\u7edf.md","sourceDirName":"\u57fa\u7840\u6838\u5fc3/nodejs","slug":"/\u57fa\u7840\u6838\u5fc3/nodejs/fs\u6587\u4ef6\u7cfb\u7edf","permalink":"/frontend/\u57fa\u7840\u6838\u5fc3/nodejs/fs\u6587\u4ef6\u7cfb\u7edf","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/frontend/\u57fa\u7840\u6838\u5fc3/nodejs/fs\u6587\u4ef6\u7cfb\u7edf.md","tags":[],"version":"current","frontMatter":{},"sidebar":"frontend","previous":{"title":"EventLoop","permalink":"/frontend/\u57fa\u7840\u6838\u5fc3/nodejs/EventLoop"},"next":{"title":"\u4e8b\u4ef6\u9a71\u52a8","permalink":"/frontend/\u57fa\u7840\u6838\u5fc3/nodejs/\u4e8b\u4ef6\u9a71\u52a8"}}');var l=s(4848),t=s(8453);const c={},i=void 0,o={},a=[{value:"<strong>\u4e00\u3001\u6838\u5fc3API\u5206\u7c7b</strong>",id:"\u4e00\u6838\u5fc3api\u5206\u7c7b",level:3},{value:"<strong>\u4e8c\u3001\u5e38\u7528\u6587\u4ef6\u64cd\u4f5c</strong>",id:"\u4e8c\u5e38\u7528\u6587\u4ef6\u64cd\u4f5c",level:3},{value:"<strong>1. \u8bfb\u53d6\u6587\u4ef6</strong>",id:"1-\u8bfb\u53d6\u6587\u4ef6",level:4},{value:"<strong>2. \u5199\u5165\u6587\u4ef6</strong>",id:"2-\u5199\u5165\u6587\u4ef6",level:4},{value:"<strong>3. \u6587\u4ef6/\u76ee\u5f55\u64cd\u4f5c</strong>",id:"3-\u6587\u4ef6\u76ee\u5f55\u64cd\u4f5c",level:4},{value:"<strong>\u4e09\u3001\u6d41\u5f0f\u5904\u7406\u5927\u6587\u4ef6</strong>",id:"\u4e09\u6d41\u5f0f\u5904\u7406\u5927\u6587\u4ef6",level:3},{value:"<strong>1. \u8bfb\u5199\u6d41\u793a\u4f8b</strong>",id:"1-\u8bfb\u5199\u6d41\u793a\u4f8b",level:4},{value:"<strong>2. \u81ea\u5b9a\u4e49\u8f6c\u6362\u6d41</strong>",id:"2-\u81ea\u5b9a\u4e49\u8f6c\u6362\u6d41",level:4},{value:"<strong>\u56db\u3001\u6587\u4ef6\u76d1\u89c6\uff08File Watch\uff09</strong>",id:"\u56db\u6587\u4ef6\u76d1\u89c6file-watch",level:3},{value:"<strong>1. fs.watch\uff08\u63a8\u8350\uff09</strong>",id:"1-fswatch\u63a8\u8350",level:4},{value:"<strong>2. fs.watchFile\uff08\u8f6e\u8be2\u65b9\u5f0f\uff09</strong>",id:"2-fswatchfile\u8f6e\u8be2\u65b9\u5f0f",level:4},{value:"<strong>\u4e94\u3001\u6587\u4ef6\u5143\u4fe1\u606f\u4e0e\u6743\u9650</strong>",id:"\u4e94\u6587\u4ef6\u5143\u4fe1\u606f\u4e0e\u6743\u9650",level:3},{value:"<strong>1. \u83b7\u53d6\u6587\u4ef6\u72b6\u6001</strong>",id:"1-\u83b7\u53d6\u6587\u4ef6\u72b6\u6001",level:4},{value:"<strong>2. \u4fee\u6539\u6587\u4ef6\u6743\u9650</strong>",id:"2-\u4fee\u6539\u6587\u4ef6\u6743\u9650",level:4},{value:"<strong>\u516d\u3001\u76ee\u5f55\u904d\u5386</strong>",id:"\u516d\u76ee\u5f55\u904d\u5386",level:3},{value:"<strong>1. \u540c\u6b65\u9012\u5f52\u904d\u5386</strong>",id:"1-\u540c\u6b65\u9012\u5f52\u904d\u5386",level:4},{value:"<strong>2. \u5f02\u6b65\u9012\u5f52\u904d\u5386\uff08Promise\uff09</strong>",id:"2-\u5f02\u6b65\u9012\u5f52\u904d\u5386promise",level:4},{value:"<strong>\u4e03\u3001\u6700\u4f73\u5b9e\u8df5\u4e0e\u6ce8\u610f\u4e8b\u9879</strong>",id:"\u4e03\u6700\u4f73\u5b9e\u8df5\u4e0e\u6ce8\u610f\u4e8b\u9879",level:3}];function d(n){const e={code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:["Node.js\u7684",(0,l.jsx)(e.code,{children:"fs"}),"\u6a21\u5757\uff08\u6587\u4ef6\u7cfb\u7edf\u6a21\u5757\uff09\u63d0\u4f9b\u4e86\u4e0e\u6587\u4ef6\u7cfb\u7edf\u4ea4\u4e92\u7684API\uff0c\u662f\u670d\u52a1\u5668\u7aef\u7f16\u7a0b\u7684\u6838\u5fc3\u7ec4\u4ef6\u3002\u4ee5\u4e0b\u4ece\u57fa\u7840\u64cd\u4f5c\u5230\u9ad8\u7ea7\u5e94\u7528\uff0c\u5168\u9762\u89e3\u6790",(0,l.jsx)(e.code,{children:"fs"}),"\u6a21\u5757\u7684\u7528\u6cd5\u548c\u6700\u4f73\u5b9e\u8df5\uff1a"]}),"\n",(0,l.jsx)(e.h3,{id:"\u4e00\u6838\u5fc3api\u5206\u7c7b",children:(0,l.jsx)(e.strong,{children:"\u4e00\u3001\u6838\u5fc3API\u5206\u7c7b"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"fs"}),"\u6a21\u5757\u63d0\u4f9b\u4e86",(0,l.jsx)(e.strong,{children:"\u540c\u6b65\u3001\u5f02\u6b65\uff08\u56de\u8c03\u5f0f\uff09\u548cPromise"}),"\u4e09\u79cdAPI\u98ce\u683c\uff1a"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u540c\u6b65API"}),"\uff08\u963b\u585e\u5f0f\uff0c\u4ee5",(0,l.jsx)(e.code,{children:"Sync"}),"\u7ed3\u5c3e\uff09"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u793a\u4f8b\uff1a",(0,l.jsx)(e.code,{children:"fs.readFileSync(path, options)"})]}),"\n",(0,l.jsx)(e.li,{children:"\u9002\u7528\u4e8e\u521d\u59cb\u5316\u914d\u7f6e\u7b49\u5fc5\u987b\u540c\u6b65\u6267\u884c\u7684\u573a\u666f\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5f02\u6b65\u56de\u8c03API"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u793a\u4f8b\uff1a",(0,l.jsx)(e.code,{children:"fs.readFile(path, options, callback)"})]}),"\n",(0,l.jsx)(e.li,{children:"\u4f20\u7edf\u65b9\u5f0f\uff0c\u9700\u6ce8\u610f\u56de\u8c03\u5730\u72f1\u95ee\u9898\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Promise API"}),"\uff08Node.js 10+\u63a8\u8350\uff09"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u901a\u8fc7",(0,l.jsx)(e.code,{children:"fs/promises"}),"\u6a21\u5757\u5bfc\u5165\uff1a","\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"const fs = require('fs/promises');\nasync function readFile() {\n  const data = await fs.readFile('example.txt', 'utf8');\n  console.log(data);\n}\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u4e8c\u5e38\u7528\u6587\u4ef6\u64cd\u4f5c",children:(0,l.jsx)(e.strong,{children:"\u4e8c\u3001\u5e38\u7528\u6587\u4ef6\u64cd\u4f5c"})}),"\n",(0,l.jsx)(e.h4,{id:"1-\u8bfb\u53d6\u6587\u4ef6",children:(0,l.jsx)(e.strong,{children:"1. \u8bfb\u53d6\u6587\u4ef6"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"const fs = require('fs/promises');\n\n// \u5f02\u6b65\u8bfb\u53d6\uff08\u63a8\u8350\uff09\nasync function readAsync() {\n  try {\n    const data = await fs.readFile('example.txt', 'utf8');\n    console.log(data);\n  } catch (err) {\n    console.error('\u8bfb\u53d6\u5931\u8d25:', err);\n  }\n}\n\n// \u540c\u6b65\u8bfb\u53d6\nfunction readSync() {\n  try {\n    const data = fs.readFileSync('example.txt', 'utf8');\n    console.log(data);\n  } catch (err) {\n    console.error('\u8bfb\u53d6\u5931\u8d25:', err);\n  }\n}\n"})}),"\n",(0,l.jsx)(e.h4,{id:"2-\u5199\u5165\u6587\u4ef6",children:(0,l.jsx)(e.strong,{children:"2. \u5199\u5165\u6587\u4ef6"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"// \u8986\u76d6\u5199\u5165\nfs.writeFile('output.txt', 'Hello World!', 'utf8')\n  .then(() => console.log('\u5199\u5165\u6210\u529f'))\n  .catch(err => console.error('\u5199\u5165\u5931\u8d25:', err));\n\n// \u8ffd\u52a0\u5199\u5165\nfs.appendFile('output.txt', '\\n\u8ffd\u52a0\u5185\u5bb9', 'utf8')\n  .then(() => console.log('\u8ffd\u52a0\u6210\u529f'))\n  .catch(err => console.error('\u8ffd\u52a0\u5931\u8d25:', err));\n"})}),"\n",(0,l.jsx)(e.h4,{id:"3-\u6587\u4ef6\u76ee\u5f55\u64cd\u4f5c",children:(0,l.jsx)(e.strong,{children:"3. \u6587\u4ef6/\u76ee\u5f55\u64cd\u4f5c"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"// \u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff08\u5f02\u6b65\uff09\nfs.access('example.txt', fs.constants.F_OK)\n  .then(() => console.log('\u6587\u4ef6\u5b58\u5728'))\n  .catch(() => console.log('\u6587\u4ef6\u4e0d\u5b58\u5728'));\n\n// \u521b\u5efa\u76ee\u5f55\uff08\u9012\u5f52\u521b\u5efa\uff09\nfs.mkdir('new/dir/path', { recursive: true })\n  .then(() => console.log('\u76ee\u5f55\u521b\u5efa\u6210\u529f'))\n  .catch(err => console.error('\u76ee\u5f55\u521b\u5efa\u5931\u8d25:', err));\n\n// \u91cd\u547d\u540d/\u79fb\u52a8\u6587\u4ef6\nfs.rename('old.txt', 'new.txt')\n  .then(() => console.log('\u91cd\u547d\u540d\u6210\u529f'))\n  .catch(err => console.error('\u91cd\u547d\u540d\u5931\u8d25:', err));\n\n// \u5220\u9664\u6587\u4ef6\nfs.unlink('temp.txt')\n  .then(() => console.log('\u6587\u4ef6\u5220\u9664\u6210\u529f'))\n  .catch(err => console.error('\u6587\u4ef6\u5220\u9664\u5931\u8d25:', err));\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u4e09\u6d41\u5f0f\u5904\u7406\u5927\u6587\u4ef6",children:(0,l.jsx)(e.strong,{children:"\u4e09\u3001\u6d41\u5f0f\u5904\u7406\u5927\u6587\u4ef6"})}),"\n",(0,l.jsxs)(e.p,{children:["\u5904\u7406\u5927\u6587\u4ef6\u65f6\uff0c\u4f7f\u7528",(0,l.jsx)(e.code,{children:"stream"}),"\u907f\u514d\u5185\u5b58\u6ea2\u51fa\uff1a"]}),"\n",(0,l.jsx)(e.h4,{id:"1-\u8bfb\u5199\u6d41\u793a\u4f8b",children:(0,l.jsx)(e.strong,{children:"1. \u8bfb\u5199\u6d41\u793a\u4f8b"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"const fs = require('fs');\n\n// \u521b\u5efa\u53ef\u8bfb\u6d41\nconst readStream = fs.createReadStream('large_input.txt', {\n  encoding: 'utf8',\n  highWaterMark: 64 * 1024 // \u7f13\u51b2\u533a\u5927\u5c0f\uff1a64KB\n});\n\n// \u521b\u5efa\u53ef\u5199\u6d41\nconst writeStream = fs.createWriteStream('large_output.txt');\n\n// \u7ba1\u9053\u4f20\u8f93\uff08\u9ad8\u6548\u5904\u7406\u5927\u6587\u4ef6\uff09\nreadStream.pipe(writeStream);\n\n// \u76d1\u542c\u4e8b\u4ef6\nreadStream.on('data', (chunk) => {\n  console.log(`\u8bfb\u53d6\u4e86 ${chunk.length} \u5b57\u8282`);\n});\n\nreadStream.on('end', () => {\n  console.log('\u6587\u4ef6\u5904\u7406\u5b8c\u6210');\n});\n"})}),"\n",(0,l.jsx)(e.h4,{id:"2-\u81ea\u5b9a\u4e49\u8f6c\u6362\u6d41",children:(0,l.jsx)(e.strong,{children:"2. \u81ea\u5b9a\u4e49\u8f6c\u6362\u6d41"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"const { Transform } = require('stream');\n\n// \u521b\u5efa\u8f6c\u6362\u6d41\uff08\u5c06\u6587\u672c\u8f6c\u4e3a\u5927\u5199\uff09\nconst upperCaseTransform = new Transform({\n  transform(chunk, encoding, callback) {\n    this.push(chunk.toString().toUpperCase());\n    callback();\n  }\n});\n\n// \u7ba1\u9053\u94fe\uff1a\u8bfb\u53d6 \u2192 \u8f6c\u6362 \u2192 \u5199\u5165\nfs.createReadStream('input.txt')\n  .pipe(upperCaseTransform)\n  .pipe(fs.createWriteStream('output.txt'));\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u56db\u6587\u4ef6\u76d1\u89c6file-watch",children:(0,l.jsx)(e.strong,{children:"\u56db\u3001\u6587\u4ef6\u76d1\u89c6\uff08File Watch\uff09"})}),"\n",(0,l.jsxs)(e.p,{children:["\u4f7f\u7528",(0,l.jsx)(e.code,{children:"fs.watch"}),"\u6216",(0,l.jsx)(e.code,{children:"fs.watchFile"}),"\u76d1\u63a7\u6587\u4ef6\u53d8\u5316\uff1a"]}),"\n",(0,l.jsx)(e.h4,{id:"1-fswatch\u63a8\u8350",children:(0,l.jsx)(e.strong,{children:"1. fs.watch\uff08\u63a8\u8350\uff09"})}),"\n",(0,l.jsx)(e.p,{children:"\u57fa\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u901a\u77e5\u673a\u5236\uff0c\u66f4\u9ad8\u6548\uff1a"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"const fs = require('fs');\n\nconst watcher = fs.watch('target.txt', (eventType, filename) => {\n  console.log(`\u4e8b\u4ef6: ${eventType}\uff0c\u6587\u4ef6: ${filename}`);\n  \n  if (eventType === 'change') {\n    console.log('\u6587\u4ef6\u5185\u5bb9\u5df2\u66f4\u65b0');\n  }\n});\n\n// \u505c\u6b62\u76d1\u89c6\nsetTimeout(() => {\n  watcher.close();\n  console.log('\u505c\u6b62\u76d1\u89c6');\n}, 10000);\n"})}),"\n",(0,l.jsx)(e.h4,{id:"2-fswatchfile\u8f6e\u8be2\u65b9\u5f0f",children:(0,l.jsx)(e.strong,{children:"2. fs.watchFile\uff08\u8f6e\u8be2\u65b9\u5f0f\uff09"})}),"\n",(0,l.jsx)(e.p,{children:"\u5b9a\u671f\u68c0\u67e5\u6587\u4ef6\u72b6\u6001\uff0c\u5f00\u9500\u8f83\u5927\uff1a"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"fs.watchFile('target.txt', (curr, prev) => {\n  console.log(`\u6587\u4ef6\u4fee\u6539\u65f6\u95f4: ${curr.mtime}`);\n  if (curr.size !== prev.size) {\n    console.log(`\u6587\u4ef6\u5927\u5c0f\u53d8\u5316: ${prev.size} \u2192 ${curr.size} \u5b57\u8282`);\n  }\n});\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u4e94\u6587\u4ef6\u5143\u4fe1\u606f\u4e0e\u6743\u9650",children:(0,l.jsx)(e.strong,{children:"\u4e94\u3001\u6587\u4ef6\u5143\u4fe1\u606f\u4e0e\u6743\u9650"})}),"\n",(0,l.jsx)(e.h4,{id:"1-\u83b7\u53d6\u6587\u4ef6\u72b6\u6001",children:(0,l.jsx)(e.strong,{children:"1. \u83b7\u53d6\u6587\u4ef6\u72b6\u6001"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"fs.stat('example.txt')\n  .then(stat => {\n    console.log('\u662f\u5426\u4e3a\u6587\u4ef6:', stat.isFile());\n    console.log('\u662f\u5426\u4e3a\u76ee\u5f55:', stat.isDirectory());\n    console.log('\u6587\u4ef6\u5927\u5c0f:', stat.size, '\u5b57\u8282');\n    console.log('\u521b\u5efa\u65f6\u95f4:', stat.birthtime);\n    console.log('\u4fee\u6539\u65f6\u95f4:', stat.mtime);\n  })\n  .catch(err => console.error('\u83b7\u53d6\u72b6\u6001\u5931\u8d25:', err));\n"})}),"\n",(0,l.jsx)(e.h4,{id:"2-\u4fee\u6539\u6587\u4ef6\u6743\u9650",children:(0,l.jsx)(e.strong,{children:"2. \u4fee\u6539\u6587\u4ef6\u6743\u9650"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"// \u4fee\u6539\u6587\u4ef6\u6743\u9650\u4e3a 755\nfs.chmod('script.sh', 0o755)\n  .then(() => console.log('\u6743\u9650\u4fee\u6539\u6210\u529f'))\n  .catch(err => console.error('\u6743\u9650\u4fee\u6539\u5931\u8d25:', err));\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u516d\u76ee\u5f55\u904d\u5386",children:(0,l.jsx)(e.strong,{children:"\u516d\u3001\u76ee\u5f55\u904d\u5386"})}),"\n",(0,l.jsx)(e.p,{children:"\u9012\u5f52\u8bfb\u53d6\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff1a"}),"\n",(0,l.jsx)(e.h4,{id:"1-\u540c\u6b65\u9012\u5f52\u904d\u5386",children:(0,l.jsx)(e.strong,{children:"1. \u540c\u6b65\u9012\u5f52\u904d\u5386"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"const fs = require('fs');\nconst path = require('path');\n\nfunction readDirRecursive(dir) {\n  const entries = fs.readdirSync(dir, { withFileTypes: true });\n  const files = [];\n  \n  for (const entry of entries) {\n    const fullPath = path.join(dir, entry.name);\n    if (entry.isDirectory()) {\n      files.push(...readDirRecursive(fullPath));\n    } else {\n      files.push(fullPath);\n    }\n  }\n  \n  return files;\n}\n\nconst allFiles = readDirRecursive('./my-directory');\nconsole.log(allFiles);\n"})}),"\n",(0,l.jsx)(e.h4,{id:"2-\u5f02\u6b65\u9012\u5f52\u904d\u5386promise",children:(0,l.jsx)(e.strong,{children:"2. \u5f02\u6b65\u9012\u5f52\u904d\u5386\uff08Promise\uff09"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"const fs = require('fs/promises');\nconst path = require('path');\n\nasync function readDirRecursiveAsync(dir) {\n  const entries = await fs.readdir(dir, { withFileTypes: true });\n  const files = [];\n  \n  for (const entry of entries) {\n    const fullPath = path.join(dir, entry.name);\n    if (entry.isDirectory()) {\n      files.push(...await readDirRecursiveAsync(fullPath));\n    } else {\n      files.push(fullPath);\n    }\n  }\n  \n  return files;\n}\n\nreadDirRecursiveAsync('./my-directory')\n  .then(files => console.log(files))\n  .catch(err => console.error('\u904d\u5386\u5931\u8d25:', err));\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u4e03\u6700\u4f73\u5b9e\u8df5\u4e0e\u6ce8\u610f\u4e8b\u9879",children:(0,l.jsx)(e.strong,{children:"\u4e03\u3001\u6700\u4f73\u5b9e\u8df5\u4e0e\u6ce8\u610f\u4e8b\u9879"})}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u4f18\u5148\u4f7f\u7528\u5f02\u6b65API"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u540c\u6b65API\u4f1a\u963b\u585e\u4e3b\u7ebf\u7a0b\uff0c\u4ec5\u5728\u521d\u59cb\u5316\u9636\u6bb5\u5fc5\u8981\u65f6\u4f7f\u7528\u3002"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u5904\u7406\u5927\u6587\u4ef6\u4f7f\u7528\u6d41"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u8bfb\u53d6/\u5199\u5165\u5927\u6587\u4ef6\u65f6\uff0c",(0,l.jsx)(e.code,{children:"fs.createReadStream"}),"\u548c",(0,l.jsx)(e.code,{children:"fs.createWriteStream"}),"\u6bd4",(0,l.jsx)(e.code,{children:"readFile"}),"\u66f4\u9ad8\u6548\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u9519\u8bef\u5904\u7406"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u6587\u4ef6\u64cd\u4f5c\u53ef\u80fd\u56e0\u6743\u9650\u3001\u6587\u4ef6\u4e0d\u5b58\u5728\u7b49\u5931\u8d25\uff0c\u52a1\u5fc5\u8fdb\u884c\u9519\u8bef\u5904\u7406\uff1a","\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"fs.readFile('non_existent.txt')\n  .catch(err => {\n    if (err.code === 'ENOENT') {\n      console.log('\u6587\u4ef6\u4e0d\u5b58\u5728');\n    } else {\n      console.error('\u5176\u4ed6\u9519\u8bef:', err);\n    }\n  });\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u8def\u5f84\u5904\u7406"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u4f7f\u7528",(0,l.jsx)(e.code,{children:"path"}),"\u6a21\u5757\u5904\u7406\u8de8\u5e73\u53f0\u8def\u5f84\u95ee\u9898\uff1a","\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"const filePath = path.join(__dirname, 'data', 'file.txt');\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u907f\u514d\u7ade\u6001\u6761\u4ef6"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5728\u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5b58\u5728\u540e\u518d\u64cd\u4f5c\u65f6\uff0c\u53ef\u80fd\u5b58\u5728\u7ade\u6001\u6761\u4ef6\uff08\u5982\u6587\u4ef6\u88ab\u5176\u4ed6\u8fdb\u7a0b\u5220\u9664\uff09\uff1a","\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-javascript",children:"// \u9519\u8bef\u793a\u4f8b\nif (fs.existsSync('file.txt')) {\n  fs.unlinkSync('file.txt'); // \u6b64\u65f6\u6587\u4ef6\u53ef\u80fd\u5df2\u88ab\u5220\u9664\n}\n\n// \u6b63\u786e\u505a\u6cd5\uff1a\u76f4\u63a5\u5c1d\u8bd5\u64cd\u4f5c\uff0c\u5904\u7406\u9519\u8bef\nfs.unlink('file.txt').catch(err => {\n  if (err.code !== 'ENOENT') {\n    console.error('\u5220\u9664\u5931\u8d25:', err);\n  }\n});\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>c,x:()=>i});var r=s(6540);const l={},t=r.createContext(l);function c(n){const e=r.useContext(t);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:c(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);