"use strict";(self.webpackChunkys_blog=self.webpackChunkys_blog||[]).push([[8240],{1793:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"\u524d\u7aef\u6846\u67b6/vue/pinia\u548cvuex","title":"pinia\u548cvuex","description":"Pinia \u548c Vuex \u90fd\u662f Vue \u751f\u6001\u4e2d\u7528\u4e8e\u72b6\u6001\u7ba1\u7406\u7684\u5e93\uff0c\u7528\u4e8e\u89e3\u51b3\u7ec4\u4ef6\u95f4\u5171\u4eab\u72b6\u6001\u7684\u95ee\u9898\u3002\u5176\u4e2d\uff0cVuex \u662f Vue \u65e9\u671f\u5b98\u65b9\u63a8\u8350\u7684\u72b6\u6001\u7ba1\u7406\u65b9\u6848\uff0c\u800c Pinia \u662f Vue 3 \u63a8\u51fa\u540e\u5b98\u65b9\u63a8\u8350\u7684\u66ff\u4ee3\u54c1\uff08\u76ee\u524d Vuex \u5df2\u505c\u6b62\u7ef4\u62a4\uff0cPinia \u6210\u4e3a\u5b98\u65b9\u9996\u9009\uff09\u3002","source":"@site/frontend/\u524d\u7aef\u6846\u67b6/vue/pinia\u548cvuex.md","sourceDirName":"\u524d\u7aef\u6846\u67b6/vue","slug":"/\u524d\u7aef\u6846\u67b6/vue/pinia\u548cvuex","permalink":"/frontend/\u524d\u7aef\u6846\u67b6/vue/pinia\u548cvuex","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/frontend/\u524d\u7aef\u6846\u67b6/vue/pinia\u548cvuex.md","tags":[],"version":"current","frontMatter":{},"sidebar":"frontend","previous":{"title":"taro-playground\u58f3\u5de5\u7a0b\u8fd0\u884c\u8e29\u5751","permalink":"/frontend/\u524d\u7aef\u6846\u67b6/taro/taro-playground\u58f3\u5de5\u7a0b\u8fd0\u884c\u8e29\u5751"},"next":{"title":"\u591a\u79cd\u901a\u4fe1\u65b9\u5f0f\u53ca\u539f\u7406","permalink":"/frontend/\u524d\u7aef\u6846\u67b6/vue/\u591a\u79cd\u901a\u4fe1\u65b9\u5f0f\u53ca\u539f\u7406"}}');var s=t(4848),i=t(8453);const o={},c=void 0,d={},l=[{value:"\u4e00\u3001\u6838\u5fc3\u533a\u522b\u4e0e\u7279\u70b9\u5bf9\u6bd4",id:"\u4e00\u6838\u5fc3\u533a\u522b\u4e0e\u7279\u70b9\u5bf9\u6bd4",level:3},{value:"\u4e8c\u3001\u6838\u5fc3\u6982\u5ff5\u4e0e\u7528\u6cd5\u5bf9\u6bd4",id:"\u4e8c\u6838\u5fc3\u6982\u5ff5\u4e0e\u7528\u6cd5\u5bf9\u6bd4",level:3},{value:"1. \u57fa\u672c\u7ed3\u6784\u4e0e\u521b\u5efa\u65b9\u5f0f",id:"1-\u57fa\u672c\u7ed3\u6784\u4e0e\u521b\u5efa\u65b9\u5f0f",level:4},{value:"2. \u72b6\u6001\u8bbf\u95ee\u4e0e\u4fee\u6539",id:"2-\u72b6\u6001\u8bbf\u95ee\u4e0e\u4fee\u6539",level:4},{value:"3. \u6a21\u5757\u5316\u4e0e\u547d\u540d\u7a7a\u95f4",id:"3-\u6a21\u5757\u5316\u4e0e\u547d\u540d\u7a7a\u95f4",level:4},{value:"4. TypeScript \u652f\u6301",id:"4-typescript-\u652f\u6301",level:4},{value:"\u4e09\u3001\u4e3a\u4ec0\u4e48 Pinia \u66ff\u4ee3\u4e86 Vuex\uff1f",id:"\u4e09\u4e3a\u4ec0\u4e48-pinia-\u66ff\u4ee3\u4e86-vuex",level:3},{value:"\u56db\u3001\u5982\u4f55\u9009\u62e9\uff1f",id:"\u56db\u5982\u4f55\u9009\u62e9",level:3}];function a(e){const n={br:"br",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Pinia \u548c Vuex \u90fd\u662f Vue \u751f\u6001\u4e2d\u7528\u4e8e",(0,s.jsx)(n.strong,{children:"\u72b6\u6001\u7ba1\u7406"}),"\u7684\u5e93\uff0c\u7528\u4e8e\u89e3\u51b3\u7ec4\u4ef6\u95f4\u5171\u4eab\u72b6\u6001\u7684\u95ee\u9898\u3002\u5176\u4e2d\uff0cVuex \u662f Vue \u65e9\u671f\u5b98\u65b9\u63a8\u8350\u7684\u72b6\u6001\u7ba1\u7406\u65b9\u6848\uff0c\u800c Pinia \u662f Vue 3 \u63a8\u51fa\u540e\u5b98\u65b9\u63a8\u8350\u7684\u66ff\u4ee3\u54c1\uff08\u76ee\u524d Vuex \u5df2\u505c\u6b62\u7ef4\u62a4\uff0cPinia \u6210\u4e3a\u5b98\u65b9\u9996\u9009\uff09\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u4e00\u6838\u5fc3\u533a\u522b\u4e0e\u7279\u70b9\u5bf9\u6bd4",children:"\u4e00\u3001\u6838\u5fc3\u533a\u522b\u4e0e\u7279\u70b9\u5bf9\u6bd4"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u7279\u6027"}),(0,s.jsx)(n.th,{children:"Vuex\uff08\u4ee5 Vuex 3 \u4e3a\u4f8b\uff0cVuex 4 \u4e3a Vue 3 \u9002\u914d\u7248\uff09"}),(0,s.jsx)(n.th,{children:"Pinia"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u53d1\u5e03\u65f6\u95f4"}),(0,s.jsx)(n.td,{children:"2015 \u5e74\uff08\u65e9\u671f\uff09"}),(0,s.jsx)(n.td,{children:"2021 \u5e74\uff08Vue 3 \u65f6\u4ee3\uff09"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u6838\u5fc3\u6982\u5ff5"}),(0,s.jsx)(n.td,{children:"State\u3001Getter\u3001Mutation\u3001Action\u3001Module"}),(0,s.jsx)(n.td,{children:"State\u3001Getter\u3001Action\uff08\u79fb\u9664 Mutation\uff09"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u6a21\u5757\u5316"}),(0,s.jsxs)(n.td,{children:["\u9700\u8981\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"modules"})," \u914d\u7f6e\uff0c\u652f\u6301\u547d\u540d\u7a7a\u95f4"]}),(0,s.jsx)(n.td,{children:"\u5929\u7136\u6a21\u5757\u5316\uff08\u6bcf\u4e2a store \u5c31\u662f\u4e00\u4e2a\u6a21\u5757\uff09"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u54cd\u5e94\u5f0f\u5904\u7406"}),(0,s.jsxs)(n.td,{children:["\u4f9d\u8d56 Vue 2 \u7684 ",(0,s.jsx)(n.code,{children:"Object.defineProperty"}),"\uff0c\u9700\u624b\u52a8\u5904\u7406\u65b0\u5c5e\u6027\uff08\u5982 ",(0,s.jsx)(n.code,{children:"Vue.set"}),"\uff09"]}),(0,s.jsxs)(n.td,{children:["\u57fa\u4e8e Vue 3 \u7684 ",(0,s.jsx)(n.code,{children:"reactive"}),"\uff0c\u81ea\u52a8\u54cd\u5e94\u5f0f"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"TypeScript \u652f\u6301"}),(0,s.jsx)(n.td,{children:"\u9700\u989d\u5916\u914d\u7f6e\u7c7b\u578b\uff0c\u4f53\u9a8c\u8f83\u5dee"}),(0,s.jsx)(n.td,{children:"\u539f\u751f\u652f\u6301 TS\uff0c\u7c7b\u578b\u63a8\u65ad\u53cb\u597d"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u5199\u6cd5\u7b80\u6d01\u6027"}),(0,s.jsxs)(n.td,{children:["\u8f83\u7e41\u7410\uff08\u9700\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"commit"})," \u8c03\u7528 Mutation\uff09"]}),(0,s.jsx)(n.td,{children:"\u66f4\u7b80\u6d01\uff08\u76f4\u63a5\u4fee\u6539\u72b6\u6001\uff0cAction \u53ef\u540c\u6b65/\u5f02\u6b65\uff09"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"\u5b98\u65b9\u72b6\u6001"}),(0,s.jsx)(n.td,{children:"\u5df2\u505c\u6b62\u7ef4\u62a4\uff08\u63a8\u8350\u8fc1\u79fb\u5230 Pinia\uff09"}),(0,s.jsx)(n.td,{children:"\u5b98\u65b9\u63a8\u8350\uff0c\u6301\u7eed\u7ef4\u62a4"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"\u4e8c\u6838\u5fc3\u6982\u5ff5\u4e0e\u7528\u6cd5\u5bf9\u6bd4",children:"\u4e8c\u3001\u6838\u5fc3\u6982\u5ff5\u4e0e\u7528\u6cd5\u5bf9\u6bd4"}),"\n",(0,s.jsx)(n.h4,{id:"1-\u57fa\u672c\u7ed3\u6784\u4e0e\u521b\u5efa\u65b9\u5f0f",children:"1. \u57fa\u672c\u7ed3\u6784\u4e0e\u521b\u5efa\u65b9\u5f0f"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Vuex"}),"\uff1a",(0,s.jsx)(n.br,{}),"\n","\u9700\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"createStore"})," \u521b\u5efa\u5355\u4e00 store \u5b9e\u4f8b\uff0c\u5305\u542b ",(0,s.jsx)(n.code,{children:"state"}),"\u3001",(0,s.jsx)(n.code,{children:"mutations"}),"\u3001",(0,s.jsx)(n.code,{children:"actions"}),"\u3001",(0,s.jsx)(n.code,{children:"getters"}),"\u3001",(0,s.jsx)(n.code,{children:"modules"})," \u7b49\u9009\u9879\u3002",(0,s.jsx)(n.br,{}),"\n","Mutation \u662f\u4fee\u6539\u72b6\u6001\u7684\u552f\u4e00\u9014\u5f84\uff08\u540c\u6b65\u64cd\u4f5c\uff09\uff0cAction \u7528\u4e8e\u5904\u7406\u5f02\u6b65\u903b\u8f91\uff08\u9700\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"commit"})," \u8c03\u7528 Mutation\uff09\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Vuex \u793a\u4f8b\uff08Vue 2\uff09\nimport Vue from 'vue';\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\n\nconst store = new Vuex.Store({\n  // \u72b6\u6001\n  state: {\n    count: 0,\n    user: { name: 'John' }\n  },\n  \n  // \u8ba1\u7b97\u5c5e\u6027\uff08\u7c7b\u4f3c\u7ec4\u4ef6\u7684 computed\uff09\n  getters: {\n    doubleCount(state) {\n      return state.count * 2;\n    }\n  },\n  \n  // \u540c\u6b65\u4fee\u6539\u72b6\u6001\uff08\u552f\u4e00\u9014\u5f84\uff09\n  mutations: {\n    increment(state, payload) {\n      state.count += payload || 1;\n    }\n  },\n  \n  // \u5904\u7406\u5f02\u6b65\u903b\u8f91\uff08\u901a\u8fc7 commit \u8c03\u7528 mutation\uff09\n  actions: {\n    async incrementAsync({ commit }, payload) {\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      commit('increment', payload); // \u5fc5\u987b\u901a\u8fc7 mutation \u4fee\u6539\u72b6\u6001\n    }\n  },\n  \n  // \u6a21\u5757\u5316\uff08\u89e3\u51b3\u5355\u4e00 store \u81c3\u80bf\u95ee\u9898\uff09\n  modules: {\n    cart: {\n      namespaced: true, // \u547d\u540d\u7a7a\u95f4\uff0c\u907f\u514d\u51b2\u7a81\n      state: { items: [] },\n      mutations: { addItem(state, item) { state.items.push(item); } }\n    }\n  }\n});\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Pinia"}),"\uff1a",(0,s.jsx)(n.br,{}),"\n","\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"defineStore"})," \u521b\u5efa\u591a\u4e2a\u72ec\u7acb\u7684 store\uff08\u5929\u7136\u6a21\u5757\u5316\uff09\uff0c\u79fb\u9664\u4e86 Mutation\uff0c\u53ef\u76f4\u63a5\u5728 Action \u4e2d\u4fee\u6539\u72b6\u6001\uff08\u652f\u6301\u540c\u6b65\u548c\u5f02\u6b65\uff09\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Pinia \u793a\u4f8b\uff08Vue 3\uff09\nimport { defineStore } from 'pinia';\n\n// \u521b\u5efa\u4e00\u4e2a store\uff08\u547d\u540d\u4e3a \"counter\"\uff09\nexport const useCounterStore = defineStore('counter', {\n  // \u72b6\u6001\uff08\u51fd\u6570\u8fd4\u56de\u5bf9\u8c61\uff0c\u786e\u4fdd\u6bcf\u4e2a\u5b9e\u4f8b\u72ec\u7acb\uff09\n  state: () => ({\n    count: 0,\n    user: { name: 'John' }\n  }),\n  \n  // \u8ba1\u7b97\u5c5e\u6027\uff08\u7c7b\u4f3c Vuex \u7684 getters\uff09\n  getters: {\n    doubleCount(state) {\n      return state.count * 2;\n    }\n  },\n  \n  // \u65b9\u6cd5\uff08\u540c\u6b65/\u5f02\u6b65\u5747\u53ef\uff0c\u76f4\u63a5\u4fee\u6539\u72b6\u6001\uff09\n  actions: {\n    increment(payload = 1) {\n      this.count += payload; // \u76f4\u63a5\u4fee\u6539\u72b6\u6001\uff0c\u65e0\u9700 mutation\n    },\n    async incrementAsync(payload = 1) {\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      this.count += payload; // \u5f02\u6b65\u64cd\u4f5c\u540e\u76f4\u63a5\u4fee\u6539\n    }\n  }\n});\n\n// \u518d\u521b\u5efa\u4e00\u4e2a store\uff08\u5929\u7136\u6a21\u5757\u5316\uff0c\u65e0\u9700\u989d\u5916\u914d\u7f6e\uff09\nexport const useCartStore = defineStore('cart', {\n  state: () => ({ items: [] }),\n  actions: {\n    addItem(item) {\n      this.items.push(item);\n    }\n  }\n});\n"})}),"\n",(0,s.jsx)(n.h4,{id:"2-\u72b6\u6001\u8bbf\u95ee\u4e0e\u4fee\u6539",children:"2. \u72b6\u6001\u8bbf\u95ee\u4e0e\u4fee\u6539"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Vuex"}),"\uff1a",(0,s.jsx)(n.br,{}),"\n","\u9700\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"this.$store.state"})," \u8bbf\u95ee\u72b6\u6001\uff0c\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"this.$store.commit"})," \u8c03\u7528 Mutation\uff0c",(0,s.jsx)(n.code,{children:"this.$store.dispatch"})," \u8c03\u7528 Action\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-vue",children:"\x3c!-- Vuex \u7ec4\u4ef6\u4e2d\u4f7f\u7528 --\x3e\n<template>\n  <div>\n    <p>Count: {{ $store.state.count }}</p>\n    <p>Double: {{ $store.getters.doubleCount }}</p>\n    <button @click=\"$store.commit('increment')\">+1</button>\n    <button @click=\"$store.dispatch('incrementAsync')\">Async +1</button>\n  </div>\n</template>\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Pinia"}),"\uff1a",(0,s.jsx)(n.br,{}),"\n","\u901a\u8fc7\u521b\u5efa\u7684 store \u51fd\u6570\u83b7\u53d6\u5b9e\u4f8b\uff0c\u76f4\u63a5\u8bbf\u95ee\u72b6\u6001\u548c\u65b9\u6cd5\uff0c\u652f\u6301\u89e3\u6784\uff08\u9700\u7528 ",(0,s.jsx)(n.code,{children:"storeToRefs"})," \u4fdd\u6301\u54cd\u5e94\u6027\uff09\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-vue",children:"\x3c!-- Pinia \u7ec4\u4ef6\u4e2d\u4f7f\u7528 --\x3e\n<template>\n  <div>\n    <p>Count: {{ counterStore.count }}</p>\n    <p>Double: {{ counterStore.doubleCount }}</p>\n    <button @click=\"counterStore.increment()\">+1</button>\n    <button @click=\"counterStore.incrementAsync()\">Async +1</button>\n  </div>\n</template>\n\n<script setup>\nimport { useCounterStore } from './stores/counter';\nimport { storeToRefs } from 'pinia';\n\n// \u83b7\u53d6 store \u5b9e\u4f8b\nconst counterStore = useCounterStore();\n\n// \u89e3\u6784\u72b6\u6001\uff08\u9700\u7528 storeToRefs \u4fdd\u6301\u54cd\u5e94\u6027\uff09\nconst { count, doubleCount } = storeToRefs(counterStore);\n<\/script>\n"})}),"\n",(0,s.jsx)(n.h4,{id:"3-\u6a21\u5757\u5316\u4e0e\u547d\u540d\u7a7a\u95f4",children:"3. \u6a21\u5757\u5316\u4e0e\u547d\u540d\u7a7a\u95f4"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Vuex"}),"\uff1a",(0,s.jsx)(n.br,{}),"\n","\u5355\u4e00 store \u4e2d\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"modules"})," \u62c6\u5206\u6a21\u5757\uff0c\u9700\u624b\u52a8\u5f00\u542f ",(0,s.jsx)(n.code,{children:"namespaced: true"})," \u907f\u514d\u547d\u540d\u51b2\u7a81\uff0c\u8bbf\u95ee\u6a21\u5757\u5185\u72b6\u6001\u9700\u62fc\u63a5\u8def\u5f84\uff08\u5982 ",(0,s.jsx)(n.code,{children:"$store.state.cart.items"}),"\uff09\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Vuex \u8bbf\u95ee\u6a21\u5757\u72b6\u6001\nthis.$store.state.cart.items; // \u8bbf\u95ee cart \u6a21\u5757\u7684 items\nthis.$store.commit('cart/addItem', item); // \u8c03\u7528 cart \u6a21\u5757\u7684 mutation\uff08\u9700\u547d\u540d\u7a7a\u95f4\uff09\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Pinia"}),"\uff1a",(0,s.jsx)(n.br,{}),"\n","\u6bcf\u4e2a ",(0,s.jsx)(n.code,{children:"defineStore"})," \u521b\u5efa\u7684 store \u5c31\u662f\u4e00\u4e2a\u72ec\u7acb\u6a21\u5757\uff0c\u65e0\u9700\u914d\u7f6e\u547d\u540d\u7a7a\u95f4\uff0c\u76f4\u63a5\u901a\u8fc7 store \u5b9e\u4f8b\u8bbf\u95ee\uff0c\u5929\u7136\u9694\u79bb\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"// Pinia \u8bbf\u95ee\u5176\u4ed6\u6a21\u5757\nimport { useCartStore } from './stores/cart';\n\nconst cartStore = useCartStore();\ncartStore.items; // \u76f4\u63a5\u8bbf\u95ee cart \u6a21\u5757\u7684 items\ncartStore.addItem(item); // \u76f4\u63a5\u8c03\u7528 cart \u6a21\u5757\u7684\u65b9\u6cd5\n"})}),"\n",(0,s.jsx)(n.h4,{id:"4-typescript-\u652f\u6301",children:"4. TypeScript \u652f\u6301"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Vuex"}),"\uff1a",(0,s.jsx)(n.br,{}),"\n","\u5bf9 TS \u652f\u6301\u8f83\u5f31\uff0c\u9700\u624b\u52a8\u5b9a\u4e49\u72b6\u6001\u7c7b\u578b\u3001\u914d\u7f6e\u6a21\u5757\u7c7b\u578b\uff0c\u5199\u6cd5\u7e41\u7410\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Vuex \u7684 TS \u914d\u7f6e\uff08\u7e41\u7410\uff09\nimport { Store } from 'vuex';\n\ninterface State {\n  count: number;\n}\n\n// \u9700\u624b\u52a8\u6269\u5c55 Vue \u7c7b\u578b\ndeclare module 'vue/types/vue' {\n  interface Vue {\n    $store: Store<State>;\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Pinia"}),"\uff1a",(0,s.jsx)(n.br,{}),"\n","\u539f\u751f\u652f\u6301 TS\uff0c\u7c7b\u578b\u81ea\u52a8\u63a8\u65ad\uff0c\u65e0\u9700\u989d\u5916\u914d\u7f6e\uff0c\u4f53\u9a8c\u66f4\u6d41\u7545\u3002"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Pinia \u7684 TS \u652f\u6301\uff08\u81ea\u52a8\u63a8\u65ad\uff09\nimport { defineStore } from 'pinia';\n\n// \u72b6\u6001\u7c7b\u578b\u81ea\u52a8\u63a8\u65ad\nexport const useCounterStore = defineStore('counter', {\n  state: () => ({\n    count: 0, // \u7c7b\u578b\u4e3a number\n    user: { name: 'John' } // \u7c7b\u578b\u4e3a { name: string }\n  }),\n  // ...\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u4e09\u4e3a\u4ec0\u4e48-pinia-\u66ff\u4ee3\u4e86-vuex",children:"\u4e09\u3001\u4e3a\u4ec0\u4e48 Pinia \u66ff\u4ee3\u4e86 Vuex\uff1f"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u66f4\u7b80\u6d01\u7684 API"}),"\uff1a\u79fb\u9664\u4e86 Mutation\uff0cAction \u53ef\u76f4\u63a5\u4fee\u6539\u72b6\u6001\uff0c\u51cf\u5c11\u6a21\u677f\u4ee3\u7801\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u66f4\u597d\u7684 TypeScript \u652f\u6301"}),"\uff1a\u539f\u751f TS \u53cb\u597d\uff0c\u65e0\u9700\u989d\u5916\u914d\u7f6e\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5929\u7136\u6a21\u5757\u5316"}),"\uff1a\u591a\u4e2a store \u66ff\u4ee3 Vuex \u7684 ",(0,s.jsx)(n.code,{children:"modules"}),"\uff0c\u7ed3\u6784\u66f4\u6e05\u6670\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u66f4\u7075\u6d3b\u7684\u72b6\u6001\u4fee\u6539"}),"\uff1a\u652f\u6301\u76f4\u63a5\u4fee\u6539\u72b6\u6001\uff08\u5982 ",(0,s.jsx)(n.code,{children:"store.count++"}),"\uff09\uff0c\u4e5f\u53ef\u901a\u8fc7 ",(0,s.jsx)(n.code,{children:"$patch"})," \u6279\u91cf\u4fee\u6539\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u5b98\u65b9\u63a8\u8350"}),"\uff1aVue \u6838\u5fc3\u56e2\u961f\u7ef4\u62a4\uff0cVue 3 \u5b98\u65b9\u6587\u6863\u4f18\u5148\u63a8\u8350 Pinia\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"\u56db\u5982\u4f55\u9009\u62e9",children:"\u56db\u3001\u5982\u4f55\u9009\u62e9\uff1f"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u65b0\u9879\u76ee"}),"\uff1a\u4f18\u5148\u4f7f\u7528 ",(0,s.jsx)(n.strong,{children:"Pinia"}),"\uff08\u5b98\u65b9\u63a8\u8350\uff0c\u66f4\u73b0\u4ee3\u3001\u7b80\u6d01\uff0c\u652f\u6301 Vue 2 \u548c Vue 3\uff09\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"\u65e7\u9879\u76ee"}),"\uff1a\u82e5\u5df2\u4f7f\u7528 Vuex \u4e14\u7a33\u5b9a\u8fd0\u884c\uff0c\u53ef\u7ee7\u7eed\u7ef4\u62a4\uff1b\u82e5\u9700\u5347\u7ea7\uff0c\u5efa\u8bae\u9010\u6b65\u8fc1\u79fb\u5230 Pinia\uff08Pinia \u63d0\u4f9b\u8fc1\u79fb\u5de5\u5177\uff09\u3002"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u603b\u7ed3\uff1aPinia \u662f Vuex \u7684\u5347\u7ea7\u66ff\u4ee3\u54c1\uff0c\u89e3\u51b3\u4e86 Vuex \u7684\u5386\u53f2\u95ee\u9898\uff08\u5982\u7e41\u7410\u7684 Mutation\u3001\u8f83\u5dee\u7684 TS \u652f\u6301\uff09\uff0c\u66f4\u9002\u5408\u73b0\u4ee3 Vue \u9879\u76ee\u7684\u72b6\u6001\u7ba1\u7406\u9700\u6c42\u3002"})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var r=t(6540);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);